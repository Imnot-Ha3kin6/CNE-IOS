name: Test Build

on:
  workflow_dispatch:  # Manual trigger only

jobs:
  test-build:
    runs-on: macos-12
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Test System
      run: |
        echo "System info:"
        uname -a
        xcode-select --print-path
        ls -la
        
    - name: Setup Haxe
      uses: krdlab/setup-haxe@v1
      with:
        haxe-version: 4.1.5
        
    - name: Test Haxe
      run: |
        haxe --version
        echo "Haxe working!"
        
    - name: Install Basic Libraries
      run: |
        haxelib install lime
        echo "Lime installed!"
        
    - name: Simple Build Test
      run: |
        echo "Testing basic project structure..."
        ls -la source/ || echo "No source folder found"
        cat Project.xml | head -10 || echo "No Project.xml found"